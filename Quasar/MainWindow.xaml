<Window x:Name="MainWindow1" x:Class="Quasar.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:p="clr-namespace:Quasar.Properties"
        xmlns:local="clr-namespace:Quasar"
        xmlns:controls="clr-namespace:Quasar.Controls"
        mc:Ignorable="d"
        Title="{x:Static p:Resources.Title}" MinWidth="1200" MinHeight="700" Width="1359" Height="792">
    <Grid x:Name="QuasarGrid">
        <Grid x:Name="OverlayGrid" Panel.ZIndex="1000" Opacity="100" Background="#FF2D2D2D">
            <Grid.RenderTransform>
                <ScaleTransform ScaleX="0" ScaleY="1"/>
            </Grid.RenderTransform>

            <ListBox x:Name="GamesListView" ItemsSource="{Binding Game}" Height="240" Padding="0" BorderThickness="0" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Center" ScrollViewer.CanContentScroll="False" Background="#FF2D2D2D" Margin="50,189,50,194" VerticalAlignment="Center" SelectionChanged="GamesListView_SelectionChanged">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <VirtualizingStackPanel IsItemsHost="True" Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Vertical" Width="200" Margin="10,0,10,0" HorizontalAlignment="Center" Height="230">
                            <TextBlock Text="{Binding Name}" Width="200" Margin="-8,0,-8,5" HorizontalAlignment="Center" Foreground="#FF3caaea" VerticalAlignment="Center" TextAlignment="Center" FontSize="18" />
                            <Image Source="{Binding ImagePath}"  Width="200" Margin="-8,0,-8,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
        <Grid x:Name="AppGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="40"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <TabControl x:Name="ContentTabControl" Grid.Column="1">
                <TabItem x:Name="Management" Header="{x:Static p:Resources.ManagementTabHeader}">
                    <Grid x:Name="ManagementGrid">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <ComboBox x:Name="ModTypeSelect" ItemsSource="{Binding ModTypes}" DisplayMemberPath="Name" SelectedValuePath="ID" Margin="10,10,0,0" VerticalAlignment="Top" Height="22" IsReadOnly="True" IsEditable="True" Text="{x:Static p:Resources.ModTypeSelectText}" Foreground="Black" SelectionChanged="ModTypeSelectionChanged" ShouldPreserveUserEnteredPrefix="True" Background="{DynamicResource QuasarBackgroundDark}" HorizontalAlignment="Left" Width="302"/>
                        <ComboBox x:Name="ModFilterSelect" ItemsSource="{Binding}" DisplayMemberPath="Name" SelectedValuePath="ID" Margin="317,10,0,0" VerticalAlignment="Top" Height="22" IsReadOnly="True" IsEditable="True" Text="{x:Static p:Resources.ModFilterSelectText}" Foreground="Black" IsEnabled="True" SelectionChanged="FilterSelectionChanged" HorizontalAlignment="Left" Width="275"/>
                        <ListBox x:Name="ModListView" SelectionChanged="ModSelected" ItemsSource="{Binding ModListElement}" Background="{DynamicResource QuasarBackgroundLight}" Style="{StaticResource ModListStyle}" Margin="0,0,0,0" Grid.Row="1" >
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="{x:Type ListBoxItem}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding isActive}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding isActive}" Value="True">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                    </Grid>
                </TabItem>
                <TabItem x:Name="Contents" Header="Content Management" d:IsHidden="True">
                    <Grid x:Name="ContentManagementGrid" Background="{DynamicResource QuasarBackgroundDark}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="45*"/>
                            <ColumnDefinition Width="150*"/>
                            <ColumnDefinition Width="247*"/>
                            <ColumnDefinition Width="240*"/>
                        </Grid.ColumnDefinitions>
                        <Label x:Name="CMDetectStartLabel" Content="Mod Content Scanner" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Height="26" Width="129" Grid.ColumnSpan="2" Foreground="{DynamicResource QuasarTextColor}"/>
                        <Button x:Name="CMDetectStartButton" Content="Launch it !" Margin="0,13,10,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="236" Height="20" Grid.Column="1" Click="CMDetectStartButton_Click"/>
                        <TreeView x:Name="DetectionTreeView" Grid.Column="3" Margin="10,57,10,10" Background="{DynamicResource QuasarBackgroundLight}" Foreground="{DynamicResource QuasarTextColor}"/>
                        <ListBox x:Name="DetectionList" Margin="10,57,10,10" Grid.ColumnSpan="2" DisplayMemberPath="Name" SelectionChanged="DetectionList_SelectionChanged" Background="{DynamicResource QuasarBackgroundLight}" Foreground="{DynamicResource QuasarTextColor}" />
                    </Grid>
                </TabItem>
                <TabItem x:Name="Assigning" Header="{x:Static p:Resources.AssignmentTabHeader}" d:IsHidden="True">
                    <Grid Background="#FFE5E5E5">
                        <Grid x:Name="AssignationGameBlock" Grid.ColumnSpan="2" Grid.Column="2" Background ="Black" Panel.ZIndex="500">
                            <Label Content="Please select a game first" HorizontalAlignment="Center" Foreground="Wheat"  VerticalAlignment="Center" FontSize="36" />
                        </Grid>
                        <Label Content="Section Under Construction..." HorizontalAlignment="Center"  VerticalAlignment="Center" FontSize="36"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="Build" Header="Build" d:IsHidden="True">
                    <Grid Background="#FFE5E5E5">
                        <Grid x:Name="BuilderGameBlock" Grid.ColumnSpan="2" Grid.Column="2" Background ="Black" Panel.ZIndex="500">
                            <Label Content="Please select a game first" HorizontalAlignment="Center" Foreground="Wheat"  VerticalAlignment="Center" FontSize="36" />
                        </Grid>
                        <Label Content="Section Under Construction..." HorizontalAlignment="Center"  VerticalAlignment="Center" FontSize="36"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="ModCreation" Header="Add Mods" Visibility="Collapsed" d:IsHidden="True">
                    <Grid Background="#FFE5E5E5">
                        <Grid x:Name="CreationGameBlock" Grid.ColumnSpan="2" Grid.Column="2" Background ="Black" Panel.ZIndex="500">
                            <Label Content="Please select a game first" HorizontalAlignment="Center" Foreground="Wheat"  VerticalAlignment="Center" FontSize="36" />
                        </Grid>
                        <Label Content="Section Under Construction..." HorizontalAlignment="Center"  VerticalAlignment="Center" FontSize="36"/>
                    </Grid>
                </TabItem>
                <TabItem x:Name="IMTTab" Header="{x:Static p:Resources.InternalModTypesHeader}" d:IsHidden="True">
                    <Grid x:Name="IMTGrid" Background="{DynamicResource QuasarBackgroundDark}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <Grid x:Name="IMTGameBlock" Grid.ColumnSpan="2" Background ="Black" Panel.ZIndex="500" d:IsHidden="True">
                            <Label Content="Please select a game first" HorizontalAlignment="Center" Foreground="Wheat"  VerticalAlignment="Center" FontSize="36" />
                        </Grid>
                        <Grid x:Name="IMTTreeGrid">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="35"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Label x:Name="IMTContentsLabel" Content="Contents :" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Width="101" Foreground="{DynamicResource QuasarTextColor}"/>
                            <Button x:Name="IMTAddFileButton" Content="Add File" Margin="116,13,0,0" VerticalAlignment="Top" Height="22" RenderTransformOrigin="-0.441,0.545" HorizontalAlignment="Left" Width="130" Click="IMTAddFile"/>
                            <Button x:Name="IMTDelFileButton" Content="Delete File" Margin="0,12,10,0" VerticalAlignment="Top" Height="22" RenderTransformOrigin="-0.441,0.545" Click="IMTDeleteFile" HorizontalAlignment="Right" Width="130"/>
                            <DataGrid x:Name="IMTDataGrid" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"  Margin="10" Grid.Row="1" SelectionChanged="DataGridRowSelected" Foreground="{DynamicResource QuasarTextColor}" Background="{DynamicResource QuasarBackgroundLight}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Path" Binding="{Binding Path}" Width="8*"/>
                                    <DataGridTextColumn Header="FileName" Binding="{Binding File}" Width="6*"/>
                                    <DataGridCheckBoxColumn Header="Mandatory" Binding="{Binding Mandatory}" Width="2*"/>
                                </DataGrid.Columns>
                            </DataGrid>
                        </Grid>
                        <Grid x:Name="IMTManagementGrid" Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="100"/>
                                <RowDefinition Height="40"/>
                                <RowDefinition Height="100"/>
                                <RowDefinition Height="52*"/>
                                <RowDefinition Height="23*"/>
                            </Grid.RowDefinitions>
                            <Label x:Name="IMTSelectLabel" Content="Select an Internal Mod Type" HorizontalAlignment="Left" Margin="0,12,0,0" VerticalAlignment="Top" Width="166" Foreground="{DynamicResource QuasarTextColor}"/>
                            <ComboBox x:Name="InternalModTypeSelect" ItemsSource="{Binding InternalModType}" DisplayMemberPath="Name" Margin="171,16,152,0" VerticalAlignment="Top" Height="22" SelectionChanged="InternalModTypeSelected"/>
                            <Button x:Name="IMTAddTypeButton" Content="Add New Type" Margin="0,16,10,0" VerticalAlignment="Top" Height="22" HorizontalAlignment="Right" Width="118"/>
                            <Label x:Name="IMTRefWarningLabel" Content="References : You can easily make your paths dynamic (detecting c00 by using c{00} for instance)" HorizontalAlignment="Left" Margin="10,74,0,0" VerticalAlignment="Top" FontStyle="Italic" Foreground="{DynamicResource QuasarTextColor}"/>
                            <Separator HorizontalAlignment="Left" Height="14" Margin="0,55,0,0" VerticalAlignment="Top" Width="588"/>
                            <Grid x:Name="IMTActionGrid" Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="205*"/>
                                    <ColumnDefinition Width="205*"/>
                                    <ColumnDefinition Width="100*"/>
                                </Grid.ColumnDefinitions>
                                <ComboBox x:Name="IMTRefCategoryCombobox" Margin="10,8,10,0" VerticalAlignment="Top">
                                    <ComboBoxItem Content="Numbers" HorizontalAlignment="Left" Width="258"/>
                                </ComboBox>
                                <ComboBox x:Name="IMTRefCombobox" Margin="10,8,10,0" VerticalAlignment="Top" Grid.Column="1">
                                    <ComboBoxItem Content="One digit {0}" HorizontalAlignment="Left" Width="258"/>
                                    <ComboBoxItem Content="Two digits {00}" HorizontalAlignment="Left" Width="258"/>
                                    <ComboBoxItem Content="Three digits {000}" HorizontalAlignment="Left" Width="258"/>
                                    <ComboBoxItem Content="Four digits {0000}" HorizontalAlignment="Left" Width="258"/>
                                </ComboBox>
                                <Button x:Name="IMTAddRefButton" Content="Add Reference" Grid.Column="2" Margin="10,8,10,0" VerticalAlignment="Top" Height="22"/>
                            </Grid>
                            <Grid x:Name="IMTFileManagementGrid" Grid.Row="2">
                                <Button x:Name="IMTSaveButton" Content="Save File and Path" Margin="0,65,10,0" VerticalAlignment="Top" Height="23" RenderTransformOrigin="0.24,3.217" HorizontalAlignment="Right" Width="149" Click="IMTInfoSave"/>
                                <TextBox x:Name="IMTPathText" Height="23" Margin="82,3,10,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" IsEnabled="False"/>
                                <Label x:Name="IMTPathLabel" Content="Path" HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransformOrigin="3.333,0.962" Margin="10,5,0,0" Foreground="{DynamicResource QuasarTextColor}"/>
                                <TextBox x:Name="IMTFileText" Height="23" Margin="82,31,10,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" IsEnabled="False"/>
                                <Label x:Name="IMTFileLabel" Content="File Name" HorizontalAlignment="Left" Margin="10,31,0,0" VerticalAlignment="Top" Foreground="{DynamicResource QuasarTextColor}"/>
                                <CheckBox x:Name="IMTMandatory" Content="Mandatory" HorizontalAlignment="Left" Margin="82,70,0,0" VerticalAlignment="Top" IsEnabled="False" Foreground="{DynamicResource QuasarTextColor}"/>
                            </Grid>
                            <Grid x:Name="IMTAssociationGrid" Grid.Row="3">
                                <Label x:Name="IMTAssociationLabel" Content="Internal Mod Type Association" HorizontalAlignment="Left" Margin="10,34,0,0" VerticalAlignment="Top" Foreground="{DynamicResource QuasarTextColor}"/>
                                <ComboBox x:Name="IMTAssotiationSelect" ItemsSource="{Binding GameDataCategory}"  DisplayMemberPath="Name" Margin="203,38,10,0" VerticalAlignment="Top" SelectionChanged="IMTAssotiationSelectChanged" IsEnabled="False"/>
                                <Label x:Name="IMTSlotsLabel" Content="Slots" HorizontalAlignment="Left" Margin="10,65,0,0" VerticalAlignment="Top" Foreground="{DynamicResource QuasarTextColor}"/>
                                <TextBox x:Name="IMTSlotsText" HorizontalAlignment="Left" Height="23" Margin="203,69,0,0" TextWrapping="Wrap" Text="8" VerticalAlignment="Top" Width="77" HorizontalContentAlignment="Right" Padding="0,0,5,0" IsEnabled="False"/>
                                <Label x:Name="IMTCustoSlotLabel" Content="Custom Slot Name" HorizontalAlignment="Left" Margin="10,144,0,0" VerticalAlignment="Top" Foreground="{DynamicResource QuasarTextColor}"/>
                                <TextBox x:Name="IMTCustomNameText" Height="23" Margin="203,147,10,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" IsEnabled="False"/>
                                <Label x:Name="IMTCustomWarningLabel" Content="If you have selected Other, please type out a name" HorizontalAlignment="Left" Margin="203,121,0,0" VerticalAlignment="Top" FontStyle="Italic" Foreground="{DynamicResource QuasarTextColor}"/>
                                <Separator HorizontalAlignment="Left" Height="14" Margin="0" VerticalAlignment="Top" Width="588"/>
                            </Grid>
                            <Separator HorizontalAlignment="Left" Height="14" Margin="0,10,0,0" VerticalAlignment="Top" Width="588" Grid.Row="4"/>
                            <Label x:Name="IMTSaveWarningLabel" Content="Caution: This action will remove all associations with this type." HorizontalAlignment="Center" Margin="10,24,0,0" VerticalAlignment="Top" FontStyle="Italic" Grid.Row="4" Foreground="{DynamicResource QuasarTextColor}"/>
                            <Button x:Name="IMTSaveXMLButton" Content="Save Internal Mod Type" HorizontalAlignment="Center" Margin="10,55,0,0" VerticalAlignment="Top" Width="156" Grid.Row="4" Click="IMTSaveXML"/>
                        </Grid>
                    </Grid>
                </TabItem>
                <TabItem x:Name="Setting" Header="{x:Static p:Resources.SettingsTabHeader}" d:IsHidden="True">
                    <Grid Background="{DynamicResource QuasarBackgroundDark}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <ListBox x:Name="SettingsListBox" Background="{x:Null}" FontSize="16">
                            <ListBoxItem x:Name="General_Settings" Content="General Settings" Foreground="{DynamicResource QuasarTextColor}"/>
                            <ListBoxItem x:Name="Smash_Settings" Content="Smash Ultimate Settings" Foreground="{DynamicResource QuasarTextColor}"/>
                        </ListBox>
                        <StackPanel Grid.Column="1"/>
                    </Grid>
                </TabItem>
            </TabControl>
            <Grid Background="#FF2D2D2D">
                <Button x:Name="HomeButton" Height="35" Width="35" BorderThickness="0" BorderBrush="#FF2D2D2D" Background="{x:Null}" Click="HomeButton_Click" >
                    <Button.Triggers>
                        <EventTrigger RoutedEvent="ButtonBase.Click">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation 
                                         Storyboard.TargetName="OverlayGrid"
                                         Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)" 
                                         From="0" To="1" 
                                         Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Button.Triggers>
                    <Image HorizontalAlignment="Center" Height="35" Width="35" VerticalAlignment="Center" Source="References/images/home.png"/>
                </Button>
            </Grid>
        </Grid>
    </Grid>
</Window>
